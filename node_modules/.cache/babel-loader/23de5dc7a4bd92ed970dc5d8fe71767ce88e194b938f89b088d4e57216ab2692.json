{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"แก้ไขข้อมูลนิสิต\", -1 /* HOISTED */);\nconst _hoisted_2 = {\n  class: \"mb-3\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"editName\",\n  class: \"form-label\"\n}, \"ชื่อนิสิต\", -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"mb-3\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"editMajor\",\n  class: \"form-label\"\n}, \"สาขาวิชา\", -1 /* HOISTED */);\nconst _hoisted_6 = {\n  class: \"mb-3\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"editYear\",\n  class: \"form-label\"\n}, \"ชั้นปี\", -1 /* HOISTED */);\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-primary\"\n}, \"บันทึกการแก้ไข\", -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, _createElementVNode(\"form\", {\n    onSubmit: _cache[3] || (_cache[3] = _withModifiers((...args) => $options.handleSubmit && $options.handleSubmit(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"editName\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.editedStudent.name = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editedStudent.name]])]), _createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"editMajor\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.editedStudent.major = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editedStudent.major]])]), _createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    class: \"form-control\",\n    id: \"editYear\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.editedStudent.yr = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editedStudent.yr]])]), _hoisted_8], 32 /* NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["_createElementVNode","class","for","type","_createElementBlock","_hoisted_1","onSubmit","_cache","_withModifiers","args","$options","handleSubmit","_hoisted_2","_hoisted_3","id","$event","$data","editedStudent","name","_hoisted_4","_hoisted_5","major","_hoisted_6","_hoisted_7","yr","_hoisted_8"],"sources":["C:\\Users\\ADDEEN\\Downloads\\scistd\\scistd\\src\\components\\StdEdit.vue"],"sourcesContent":["<template>\r\n  <div>\r\n      <h2>แก้ไขข้อมูลนิสิต</h2>\r\n      <form @submit.prevent=\"handleSubmit\">\r\n          <div class=\"mb-3\">\r\n              <label for=\"editName\" class=\"form-label\">ชื่อนิสิต</label>\r\n              <input type=\"text\" class=\"form-control\" id=\"editName\" v-model=\"editedStudent.name\">\r\n          </div>\r\n          <div class=\"mb-3\">\r\n              <label for=\"editMajor\" class=\"form-label\">สาขาวิชา</label>\r\n              <input type=\"text\" class=\"form-control\" id=\"editMajor\" v-model=\"editedStudent.major\">\r\n          </div>\r\n          <div class=\"mb-3\">\r\n              <label for=\"editYear\" class=\"form-label\">ชั้นปี</label>\r\n              <input type=\"number\" class=\"form-control\" id=\"editYear\" v-model=\"editedStudent.yr\">\r\n          </div>\r\n          <button type=\"submit\" class=\"btn btn-primary\">บันทึกการแก้ไข</button>\r\n      </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'StdEdit',\r\n  props: ['stdId'],\r\n  data() {\r\n      return {\r\n          editedStudent: {\r\n              name: '',\r\n              major: '',\r\n              yr: ''\r\n          }\r\n      };\r\n  },\r\n  mounted() {\r\n      this.fetchStudentData();\r\n  },\r\n  methods: {\r\n      fetchStudentData() {\r\n          fetch(`http://localhost:3000/subject/${this.stdId}`)\r\n              .then(response => response.json())\r\n              .then(data => {\r\n                  this.editedStudent = data;\r\n              })\r\n              .catch(error => {\r\n                  console.error('Error fetching student data:', error);\r\n              });\r\n      },\r\n      handleSubmit() {\r\n          fetch(`http://localhost:3000/subject/${this.stdId}`, {\r\n              method: 'PUT',\r\n              headers: {\r\n                  'Content-Type': 'application/json'\r\n              },\r\n              body: JSON.stringify(this.editedStudent)\r\n          })\r\n          .then(() => {\r\n              alert('บันทึกการแก้ไขข้อมูลเรียบร้อยแล้ว');\r\n              // อาจจะมีการ reload หน้าหลังจากการบันทึก\r\n          })\r\n          .catch(error => {\r\n              console.error('Error updating student data:', error);\r\n              alert('เกิดข้อผิดพลาดในการบันทึกการแก้ไขข้อมูล');\r\n          });\r\n      }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n/* สไตล์ต่าง ๆ สำหรับฟอร์มแก้ไขข้อมูล หรือตามต้องการ */\r\n</style>\r\n"],"mappings":";gCAEMA,mBAAA,CAAyB,YAArB,kBAAgB;;EAEXC,KAAK,EAAC;AAAM;gCACbD,mBAAA,CAA0D;EAAnDE,GAAG,EAAC,UAAU;EAACD,KAAK,EAAC;GAAa,WAAS;;EAGjDA,KAAK,EAAC;AAAM;gCACbD,mBAAA,CAA0D;EAAnDE,GAAG,EAAC,WAAW;EAACD,KAAK,EAAC;GAAa,UAAQ;;EAGjDA,KAAK,EAAC;AAAM;gCACbD,mBAAA,CAAuD;EAAhDE,GAAG,EAAC,UAAU;EAACD,KAAK,EAAC;GAAa,QAAM;gCAGnDD,mBAAA,CAAqE;EAA7DG,IAAI,EAAC,QAAQ;EAACF,KAAK,EAAC;GAAkB,gBAAc;;uBAfpEG,mBAAA,CAiBM,cAhBFC,UAAyB,EACzBL,mBAAA,CAcO;IAdAM,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAHnBC,cAAA,KAAAC,IAAA,KAG6BC,QAAA,CAAAC,YAAA,IAAAD,QAAA,CAAAC,YAAA,IAAAF,IAAA,CAAY;MAC/BT,mBAAA,CAGM,OAHNY,UAGM,GAFFC,UAA0D,E,gBAC1Db,mBAAA,CAAmF;IAA5EG,IAAI,EAAC,MAAM;IAACF,KAAK,EAAC,cAAc;IAACa,EAAE,EAAC,UAAU;IANnE,uBAAAP,MAAA,QAAAA,MAAA,MAAAQ,MAAA,IAM6EC,KAAA,CAAAC,aAAa,CAACC,IAAI,GAAAH,MAAA;iDAAlBC,KAAA,CAAAC,aAAa,CAACC,IAAI,E,KAErFlB,mBAAA,CAGM,OAHNmB,UAGM,GAFFC,UAA0D,E,gBAC1DpB,mBAAA,CAAqF;IAA9EG,IAAI,EAAC,MAAM;IAACF,KAAK,EAAC,cAAc;IAACa,EAAE,EAAC,WAAW;IAVpE,uBAAAP,MAAA,QAAAA,MAAA,MAAAQ,MAAA,IAU8EC,KAAA,CAAAC,aAAa,CAACI,KAAK,GAAAN,MAAA;iDAAnBC,KAAA,CAAAC,aAAa,CAACI,KAAK,E,KAEvFrB,mBAAA,CAGM,OAHNsB,UAGM,GAFFC,UAAuD,E,gBACvDvB,mBAAA,CAAmF;IAA5EG,IAAI,EAAC,QAAQ;IAACF,KAAK,EAAC,cAAc;IAACa,EAAE,EAAC,UAAU;IAdrE,uBAAAP,MAAA,QAAAA,MAAA,MAAAQ,MAAA,IAc+EC,KAAA,CAAAC,aAAa,CAACO,EAAE,GAAAT,MAAA;iDAAhBC,KAAA,CAAAC,aAAa,CAACO,EAAE,E,KAErFC,UAAqE,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}