{"ast":null,"code":"export default {\n  name: 'SubEdit',\n  props: ['stdId'],\n  data() {\n    return {\n      editedStudent: []\n    };\n  },\n  mounted() {\n    this.fetchStudentData();\n  },\n  methods: {\n    fetchStudentData() {\n      fetch(`http://localhost:3000/subject/${this.stdId}`).then(response => response.json()).then(data => {\n        this.editedStudent = data;\n      }).catch(error => {\n        console.error('Error fetching student data:', error);\n      });\n    },\n    handleSubmit() {\n      fetch(`http://localhost:3000/subject/${this.stdId}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.editedStudent)\n      }).then(() => {\n        alert('บันทึกการแก้ไขข้อมูลเรียบร้อยแล้ว');\n        // อาจจะมีการ reload หน้าหลังจากการบันทึก\n      }).catch(error => {\n        console.error('Error updating student data:', error);\n        alert('เกิดข้อผิดพลาดในการบันทึกการแก้ไขข้อมูล');\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","props","data","editedStudent","mounted","fetchStudentData","methods","fetch","stdId","then","response","json","catch","error","console","handleSubmit","method","headers","body","JSON","stringify","alert"],"sources":["C:\\Users\\ADDEEN\\Downloads\\scistd\\scistd\\src\\components\\SubEdit.vue"],"sourcesContent":["<template>\r\n  <div>\r\n      <h2>แก้ไขข้อมูลนิสิต</h2>\r\n      <form @submit.prevent=\"handleSubmit\">\r\n          <div class=\"mb-3\">\r\n              <label for=\"editName\" class=\"form-label\">ชื่อนิสิต</label>\r\n              <input type=\"text\" class=\"form-control\" id=\"editName\" v-model=\"editedStudent.name\">\r\n          </div>\r\n          <div class=\"mb-3\">\r\n              <label for=\"editMajor\" class=\"form-label\">เกรด</label>\r\n              <input type=\"text\" class=\"form-control\" id=\"editMajor\" v-model=\"editedStudent.grade\">\r\n          </div>\r\n          <div class=\"mb-3\">\r\n              <label for=\"editYear\" class=\"form-label\">หน่วยกิต</label>\r\n              <input type=\"number\" class=\"form-control\" id=\"editYear\" v-model=\"editedStudent.credit\">\r\n          </div>\r\n          <button type=\"submit\" class=\"btn btn-primary\">บันทึกการแก้ไข</button>\r\n      </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'SubEdit',\r\n  props: ['stdId'],\r\n  data() {\r\n      return {\r\n          editedStudent: []\r\n      };\r\n  },\r\n  mounted() {\r\n      this.fetchStudentData();\r\n  },\r\n  methods: {\r\n      fetchStudentData() {\r\n          fetch(`http://localhost:3000/subject/${this.stdId}`)\r\n              .then(response => response.json())\r\n              .then(data => {\r\n                  this.editedStudent = data;\r\n              })\r\n              .catch(error => {\r\n                  console.error('Error fetching student data:', error);\r\n              });\r\n      },\r\n      handleSubmit() {\r\n          fetch(`http://localhost:3000/subject/${this.stdId}`, {\r\n              method: 'PUT',\r\n              headers: {\r\n                  'Content-Type': 'application/json'\r\n              },\r\n              body: JSON.stringify(this.editedStudent)\r\n          })\r\n          .then(() => {\r\n              alert('บันทึกการแก้ไขข้อมูลเรียบร้อยแล้ว');\r\n              // อาจจะมีการ reload หน้าหลังจากการบันทึก\r\n          })\r\n          .catch(error => {\r\n              console.error('Error updating student data:', error);\r\n              alert('เกิดข้อผิดพลาดในการบันทึกการแก้ไขข้อมูล');\r\n          });\r\n      }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n/* สไตล์ต่าง ๆ สำหรับฟอร์มแก้ไขข้อมูล หรือตามต้องการ */\r\n</style>\r\n"],"mappings":"AAsBA,eAAe;EACbA,IAAI,EAAE,SAAS;EACfC,KAAK,EAAE,CAAC,OAAO,CAAC;EAChBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,aAAa,EAAE;IACnB,CAAC;EACL,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,gBAAgB,CAAC,CAAC;EAC3B,CAAC;EACDC,OAAO,EAAE;IACLD,gBAAgBA,CAAA,EAAG;MACfE,KAAK,CAAE,iCAAgC,IAAI,CAACC,KAAM,EAAC,EAC9CC,IAAI,CAACC,QAAO,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,EAChCF,IAAI,CAACP,IAAG,IAAK;QACV,IAAI,CAACC,aAAY,GAAID,IAAI;MAC7B,CAAC,EACAU,KAAK,CAACC,KAAI,IAAK;QACZC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACxD,CAAC,CAAC;IACV,CAAC;IACDE,YAAYA,CAAA,EAAG;MACXR,KAAK,CAAE,iCAAgC,IAAI,CAACC,KAAM,EAAC,EAAE;QACjDQ,MAAM,EAAE,KAAK;QACbC,OAAO,EAAE;UACL,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACjB,aAAa;MAC3C,CAAC,EACAM,IAAI,CAAC,MAAM;QACRY,KAAK,CAAC,mCAAmC,CAAC;QAC1C;MACJ,CAAC,EACAT,KAAK,CAACC,KAAI,IAAK;QACZC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;QACpDQ,KAAK,CAAC,yCAAyC,CAAC;MACpD,CAAC,CAAC;IACN;EACJ;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}