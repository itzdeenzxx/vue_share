{"ast":null,"code":"export default {\n  name: 'StdAdd',\n  data() {\n    return {\n      stds: {\n        id: \"\",\n        name: \"\",\n        major: \"CS\",\n        yr: 2,\n        inshow: false\n      }\n    };\n  },\n  methods: {\n    handleSubmit() {\n      let students = {\n        id: this.stds.id,\n        name: this.stds.name,\n        major: this.stds.major,\n        yr: this.stds.yr,\n        isShow: false\n      };\n      fetch('http://localhost:3000/students', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(students)\n      }).then(() => {\n        this.addSuccess = true;\n      }).catch(err => {\n        this.addError = true;\n        this.errMessage = err;\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","stds","id","major","yr","inshow","methods","handleSubmit","students","isShow","fetch","method","headers","body","JSON","stringify","then","addSuccess","catch","err","addError","errMessage"],"sources":["C:\\Users\\ADDEEN\\Downloads\\scistd\\scistd\\src\\components\\StdAdd.vue"],"sourcesContent":["<template>\r\n    <div class=\"card\">\r\n        <div class=\"card-body\">\r\n            <form @submit.prevent=\"handleSubmit()\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-lg-4 col-md-4 col-sm-6 mt-2\">\r\n                        <label for=\"stdId\" class=\"form-label\">รหัสวิชา</label>\r\n                        <input type=\"text\" id=\"stdId\" class=\"form-control\" v-model.trim=\"stds.id\" />\r\n                    </div>\r\n                    <div class=\"col-lg-8 col-md-8 col-sm-6 mt-2\">\r\n                        <label for=\"stdName\" class=\"form-label\">ชื่อวิชา</label>\r\n                        <input type=\"text\" id=\"stdName\" class=\"form-control\" v-model.trim=\"stds.name\" />\r\n                    </div>\r\n                    <div class=\"col-lg-2 col-md-3 col-sm-4 mt-2\">\r\n                        <label for=\"stdYr\" class=\"form-label\">หน่วยกิต</label>\r\n                        <select id=\"stdYr\" class=\"form-select\" v-model=\"stds.yr\">\r\n                            <option value=\"1\">1</option>\r\n                            <option value=\"2\">2</option>\r\n                            <option value=\"3\">3</option>\r\n                            <option value=\"4\">4</option>\r\n                        </select>\r\n                    </div>\r\n                    <div class=\"col-lg-2 col-md-3 col-sm-4 mt-2\">\r\n                        <label for=\"stdYr\" class=\"form-label\">หน่วยกิต</label>\r\n                        <select id=\"stdYr\" class=\"form-select\" v-model=\"stds.yr\">\r\n                            <option value=\"1\">1</option>\r\n                            <option value=\"2\">2</option>\r\n                            <option value=\"3\">3</option>\r\n                            <option value=\"4\">4</option>\r\n                        </select>\r\n                    </div>\r\n                    <div class=\"col-2 mt-4 d-flex align-item-center\">\r\n                        <button id=\"btnSubmit\" type=\"submit\" class=\"btn btn-primary\">บันทึก</button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n\r\n        </div>\r\n    </div>\r\n    <div class=\"alert alert-success mt-2\" v-show=\"addSuccess\">\r\n    บันทึกข้อมูล {{ stds.id }} - {{ stds.name }} สำเร็จ\r\n    </div>\r\n    <div class=\"alert alert-danger mt-2\" v-shoe=\"addError\">\r\n    {{ errMessage }}\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'StdAdd',\r\n    data() {\r\n        return {\r\n            stds: {\r\n                id: \"\",\r\n                name: \"\",\r\n                major: \"CS\",\r\n                yr: 2,\r\n                inshow: false\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        handleSubmit() {\r\n            let students = {\r\n                id: this.stds.id,\r\n                name: this.stds.name,\r\n                major: this.stds.major,\r\n                yr: this.stds.yr,\r\n                isShow: false\r\n            }\r\n            fetch('http://localhost:3000/students', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(students)\r\n            })\r\n                .then(() => {\r\n                    this.addSuccess = true\r\n                })\r\n                .catch((err) => {\r\n                    this.addError = true\r\n                    this.errMessage = err\r\n                })\r\n        }\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n<style></style>"],"mappings":"AAgDA,eAAe;EACXA,IAAI,EAAE,QAAQ;EACdC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,IAAI,EAAE;QACFC,EAAE,EAAE,EAAE;QACNH,IAAI,EAAE,EAAE;QACRI,KAAK,EAAE,IAAI;QACXC,EAAE,EAAE,CAAC;QACLC,MAAM,EAAE;MACZ;IACJ;EACJ,CAAC;EACDC,OAAO,EAAE;IACLC,YAAYA,CAAA,EAAG;MACX,IAAIC,QAAO,GAAI;QACXN,EAAE,EAAE,IAAI,CAACD,IAAI,CAACC,EAAE;QAChBH,IAAI,EAAE,IAAI,CAACE,IAAI,CAACF,IAAI;QACpBI,KAAK,EAAE,IAAI,CAACF,IAAI,CAACE,KAAK;QACtBC,EAAE,EAAE,IAAI,CAACH,IAAI,CAACG,EAAE;QAChBK,MAAM,EAAE;MACZ;MACAC,KAAK,CAAC,gCAAgC,EAAE;QACpCC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACP,QAAQ;MACjC,CAAC,EACIQ,IAAI,CAAC,MAAM;QACR,IAAI,CAACC,UAAS,GAAI,IAAG;MACzB,CAAC,EACAC,KAAK,CAAEC,GAAG,IAAK;QACZ,IAAI,CAACC,QAAO,GAAI,IAAG;QACnB,IAAI,CAACC,UAAS,GAAIF,GAAE;MACxB,CAAC;IACT;EAEJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}